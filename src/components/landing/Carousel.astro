<section class="image-carousel border-white/20 border-y">
  <div class="text-white mx-auto">
    <div class="mx-auto overflow-hidden overflow-x-hidden py-2 relative">
      <!-- Gradient Overlays -->
      <div class="w-full justify-between grid">
        <div class="absolute from-black inset-0 left-0 via-transparent w-44 z-10 bg-gradient-to-r"></div>
        <div class="absolute from-black inset-0 left-0 via-transparent w-44 z-10 bg-gradient-to-l ml-auto"></div>
      </div>

      <!-- Marquee Container with Horizontal Scrolling -->
      <div class="marquee-container">
        <div class="flex items-center image-marquee-animation font-black font-display gap-4 relative tracking-widest uppercase whitespace-nowrap">
          <!-- Original Images -->
          <img src="/images/image1.jpg" alt="Image 1" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image2.jpg" alt="Image 2" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image3.jpg" alt="Image 3" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image4.jpg" alt="Image 4" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image5.jpg" alt="Image 5" class="w-[232px] h-[72px] rounded-full" />
          <!-- Duplicated Images (First Set) -->
          <img src="/images/image1.jpg" alt="Image 1" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image2.jpg" alt="Image 2" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image3.jpg" alt="Image 3" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image4.jpg" alt="Image 4" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image5.jpg" alt="Image 5" class="w-[232px] h-[72px] rounded-full" />
          <!-- Duplicated Images (Second Set) -->
          <img src="/images/image1.jpg" alt="Image 1" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image2.jpg" alt="Image 2" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image3.jpg" alt="Image 3" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image4.jpg" alt="Image 4" class="w-[232px] h-[72px] rounded-full" />
          <img src="/images/image5.jpg" alt="Image 5" class="w-[232px] h-[72px] rounded-full" />
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const marqueeContainer = document.querySelector(".marquee-container");
    const marqueeAnimation = document.querySelector(".image-marquee-animation");

    if (marqueeContainer && marqueeAnimation) {
      let isDragging = false;

      // Pause animation on mouse down or touch start
      marqueeContainer.addEventListener("mousedown", function (e) {
        isDragging = true;
        marqueeAnimation.style.animationPlayState = "paused";
      });

      marqueeContainer.addEventListener("touchstart", function (e) {
        isDragging = true;
        marqueeAnimation.style.animationPlayState = "paused";
      });

      // Resume animation on mouse up or touch end
      document.addEventListener("mouseup", function () {
        if (isDragging) {
          isDragging = false;
          marqueeAnimation.style.animationPlayState = "running";
        }
      });

      document.addEventListener("touchend", function () {
        if (isDragging) {
          isDragging = false;
          marqueeAnimation.style.animationPlayState = "running";
        }
      });

      // Enable click-and-drag scrolling
      marqueeContainer.addEventListener("mousedown", function (e) {
        let startX = e.pageX;
        let scrollLeft = marqueeContainer.scrollLeft;

        function onMouseMove(e) {
          if (!isDragging) return;
          let x = e.pageX - startX;
          marqueeContainer.scrollLeft = scrollLeft - x;
        }

        function onMouseUp() {
          document.removeEventListener("mousemove", onMouseMove);
          document.removeEventListener("mouseup", onMouseUp);
        }

        document.addEventListener("mousemove", onMouseMove);
        document.addEventListener("mouseup", onMouseUp);
      });

      // Enable touch scrolling
      marqueeContainer.addEventListener("touchstart", function (e) {
        let startX = e.touches[0].pageX;
        let scrollLeft = marqueeContainer.scrollLeft;

        function onTouchMove(e) {
          if (!isDragging) return;
          let x = e.touches[0].pageX - startX;
          marqueeContainer.scrollLeft = scrollLeft - x;
        }

        function onTouchEnd() {
          document.removeEventListener("touchmove", onTouchMove);
          document.removeEventListener("touchend", onTouchEnd);
        }

        document.addEventListener("touchmove", onTouchMove);
        document.addEventListener("touchend", onTouchEnd);
      });
    }
  });
</script>